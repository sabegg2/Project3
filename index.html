<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Anemometer Data Comparison</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"> -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <!-- Our CSS -->
  <link rel="stylesheet" type="text/css" href="static/css/style.css">
</head>

<body>

  <div class="container">

    <div class="row">

      <div class="col-md-8 p-2 text-center bg-light"> 
        <h1>Anemometer Data Comparison Dashboard</h1> 
        <p style="text-align: left;">The purpose of this page is to compare 2D and 3D anemometer data collected at the same location during
          the same timeframe. The datapoints correspond to 15-minute average wind speeds, wind directions, and temperatures. 
          The comparison of the 2D and 3D data is via timeseries, 
          histograms of the differences in measurements, and linear regression. 
          Removing low wind speeds increases the correlation between the datasets.</p>
      </div>

      <div class="col-md-2">
        <div class="card card-body bg-light">
          <h6>Choose metric:</h6>
          <div id="plotType"></div>
        </div>
      </div>

      <div class="col-md-2">
        <div class="card card-body bg-light">
          <h6>Wind speed filter:</h6> 
          <div id="speedFilter"></div>
        </div>
      </div>

    </div>
    
    <div class="row">
      <div class="col-md-6">
        
        <button id="popupButton2D">2D Anemometer Info</button>
        
        <script>  // popup button to describe 2D anemometer
        let text1 = `A 2D anemometer is an instrument used to measure wind speed and direction in two dimensions. 
          Unlike a 3D anemometer, which can measure wind components in three dimensions (including vertical wind), 
          a 2D anemometer focuses on horizontal wind components. The 2D anemometer shown in the image is a
          sonic anemometer, which uses ultrasonic sound waves to determine wind speed and direction. Some models 
          include temperature sensors that measure air temperature while capturing wind data.`;
        document.getElementById("popupButton2D").onclick = function() {
          Swal.fire({
            title: '2D Anemometer',
            text: text1,
            imageUrl: 'images/2d_anemometer.png', // Path to image
            imageWidth: 300, 
            imageHeight: 300, 
            confirmButtonText: 'I learned a lot. Please close now.'
          });
        }
        </script>
      

        <button id="popupButton3D">3D Anemometer Info</button>

        <script>  // popup button to describe 3D anemometer
        let text2 = `A 3D anemometer is an advanced instrument used to measure wind speed and direction in three dimensions. 
          Unlike 2D anemometers, which only capture horizontal wind components, 3D anemometers can measure vertical and horizontal wind components, 
          providing a comprehensive understanding of wind behavior in the atmosphere. However, 3D anemometers tend to be more affected
          by adverse weather conditions than 2D anemometers. The 3D anemometer shown in the image is a
          sonic anemometer, which uses ultrasonic sound waves to determine wind speed and direction. Some models include temperature sensors 
          that measure air temperature while capturing wind data.`;
        document.getElementById("popupButton3D").onclick = function() {
          Swal.fire({
            title: '3D Anemometer',
            text: text2,
            imageUrl: 'images/3d_anemometer.png', // Path to image
            imageWidth: 300, 
            imageHeight: 300, 
            confirmButtonText: 'That was interesting. Please close now.'
          });
        }
        </script>
      </div>

      <div class="col-md-6"></div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <div id="timeseries"></div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-md-6">
        <div id="histogram"></div>
      </div>
      <div class="col-md-6">
        <div id="regression"></div>
      </div>
    </div>

  </div>

  <footer>
    <p style="font-size: 12px;">&copy; 2024 Steph Abegg. All rights reserved.</p>
  </footer>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="./static/js/app.js"></script>

</body>

</html>
